<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

  <title>Frontend Mentor | Intro section with dropdown navigation</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Epilogue:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <style>
    .attribution {
      font-size: 11px;
      text-align: center;
    }

    .attribution a {
      color: hsl(228, 45%, 44%);
    }
  </style>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <img src="./images/logo.svg" alt="a logo of SNAP" />
    <nav id="nav-bar">
      <ul id="top-menu">
        <li class="menu-item clickable" tabindex=0 onclick="toggle_submenu(this,event)"><span>Features</span>
          <img src="./images/icon-arrow-down.svg" alt="a down arrow"/>
          <div class="dropdown-card features">
            <ul>
              <li><img src="./images/icon-todo.svg" alt="todo list icon"/>
                <a href="">Todo list</a></li>
              <li><img src="./images/icon-calendar.svg" alt="calendar icon"/>
                <a href="">Calendar</a></li>
              <li><img src="./images/icon-reminders.svg" alt="reminders icon"/>
                <a href="">Reminders</a></li>
              <li><img src="./images/icon-planning.svg" alt="planning icon"/>
                <a href="">Planning</a></li>
            </ul>
          </div>
        </li>  
        <li class="menu-item clickable" tabindex=0 onclick="toggle_submenu(this,event)">Company
          <img src="./images/icon-arrow-down.svg" alt="a down arrow"/>
          <div class="dropdown-card company">
            <ul>
              <li><a href="">History</a></li>
              <li><a href="">Our Team</a></li>
              <li><a href="">Blog</a></li>
            </ul>
          </div>
        </li>
        <li class="menu-item"><a href="">Careers</a></li>
        <li class="menu-item"><a href="">About</a></li>
        <li class="menu-item login-item"><a href="">Login</a></li>
        <li class="menu-item">
          <button class="register-button"><span>Register</span></button></li>
      </ul>
      <div id="hamburger">
        <img src="./images/icon-menu.svg" alt="hamburger menu icon" tabindex=0 class="clickable" onclick="open_menu()"/>
      </div>
    </nav>
  </header>
  <div id="modal">
    <div class="modal-backdrop"></div>
    <div class="menu-area">
      <img src="./images/icon-close-menu.svg" alt="menu close icon" tabindex=0 class="clickable" onclick="close_menu()"/>
      <div id="menu-card"></div>
    </div>
  </div>
  <main>
    <picture>
      <source srcset="./images/image-hero-desktop.png" media="(min-width: 800px)">
      <source srcset="./images/image-hero-mobile.png" media="(min-width: 128px)">
      <img id='hero-image' src="./images/image-hero-mobile.png" alt="title picture of SNAP" />
    </picture>
    <div class="narrative">
      <h1>
        <span>Make</span> remote work
      </h1>
      <p class="text-preset2">
        Get your team in sync, no matter your location. Streamline processes,
        create team rituals, and watch productivity soar.
      </p>
      <button class="learn-more-button">
        Learn more
      </button>
    </div>
    <div class="client-logos">
      <img src="./images/client-databiz.svg" alt="client databiz logo"/>
      <img src="./images/client-audiophile.svg" alt="client audiophile logo"/>
      <img src="./images/client-meet.svg" alt="client meet logo"/>
      <img src="./images/client-maker.svg" alt="client maker logo"/>
    </div>  
  </main>
  <footer>
    <div class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
      Coded by <a href="#">Your Name Here</a>.
    </div>
  </footer>
</body>
<script>
  const setup_menu = () => {
    if(window.innerWidth < 800) {
      document.getElementById('hamburger').style.display = 'block';
      document.getElementById('menu-card').appendChild(document.getElementById('top-menu'));
      console.log('moved menu-area under modal');
    } else {
      document.getElementById('hamburger').style.display = 'none';
      document.getElementById('nav-bar').appendChild(document.getElementById('top-menu'));
      console.log('moved menu-area under nav-bar');
    }
  }
  window.onload = setup_menu;
  window.onresize = setup_menu;

  const open_menu = () => {
    document.getElementById('hamburger').style.display = 'none';
    document.getElementById('modal').style.display = 'block';
    console.log('clicked');
  }
  const close_menu = () => {
    document.getElementById('hamburger').style.display = 'block';
    document.getElementById('modal').style.display = 'none';
  }
  const toggle_submenu = (elm, event) => {
    let submenu = elm.querySelector('.dropdown-card');
    let img = elm.querySelector('img');
    if(!submenu.style.display || submenu.style.display == 'none') {
      submenu.style.display = 'block';
      img.src = './images/icon-arrow-up.svg';
      console.log('opened');
    } else {
      submenu.style.display = 'none';
      img.src = './images/icon-arrow-down.svg';
      console.log('closed');
    }
  }
  const clickables = document.querySelectorAll('.clickable');
  [...clickables].forEach(elm => 
    elm.addEventListener('keydown', function(event) { 
    if (event.key === 'Enter' || event.key === ' ') { 
      event.preventDefault(); 
      this.click();  
    }
  }));
</script>
</html>